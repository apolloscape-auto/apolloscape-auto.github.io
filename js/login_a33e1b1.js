function initHtml(){$(".done_load").length>0?showHtml():setTimeout(function(){initHtml()},400)}function showHtml(){var t={banner:[{type:"p",attr:'class="title"',word:"ApolloScape"},{type:"p",attr:'class="sub_title"',word:"Advanced Open Tools and Datasets for AD"},{type:"p",attr:'class="brief"',word:"ApolloScape,  part of the Apollo project for autonomous driving, is a research-oriented project to foster innovations in all aspects of autonomous driving."},{type:"p",attr:'class="brief"',word:"It hosts open access to semantically annotated (pixel-level) street view images and simulation tools that supports user-defined polices. "},{type:"p",attr:'class="brief"',word:"It is an evolving project that new datasets and new capability will be added regularly.  "},{type:"p",attr:'class="brief"',word:"Various workshops and challenges will be hosted to encourage exchanges of ideas and jointly advance the state of the art in autonomous driving research.   "},{type:"div",attr:'class="hr"',word:""}],login:"Select your account"};if("en"==$.cookie("use_lang")){var o=t;$("#google_login").css("marginLeft","20")}else var o=t;var e="";$.each(o.banner,function(t,o){e+="<"+o.type+" "+o.attr+">","string"==typeof o.word?e+=o.word:$.each(o.word,function(t,o){e+=o}),e+="</"+o.type+">"}),$("#login-ban").html(e),$("#login-title").html(o.login),$("#github_login").bind("click",function(){window.location="https://github.com/login/oauth/authorize?client_id=6bff2b90aaa2bd16db57&state=1&redirect_uri=http://apolloscape.auto/login.html"}),$("#baidu_login").bind("click",function(){window.location="http://openapi.baidu.com/oauth/2.0/authorize?response_type=code&client_id=1hCmuiEoiGCyzYhxr53ZyTrF&redirect_uri=http://apolloscape.auto/login.html"}),$.getScript("https://apis.google.com/js/api:client.js").done(function(){initLogin()}).fail(function(){$("#google_login").bind("click",function(){alert("google api load error")})})}function getUrlParam(){for(var t=window.location.search.replace(/\?/,"").split("&"),o=t.length,e={},i=0;o>i;i++){var n=t[i].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}$(document).ready(function(){}),setTimeout(function(){initHtml()},360);var initLogin=function(){gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:"738174458074-ors4lmed8qcgufndpskg3vuotvkl5b7j.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"profile"}),auth2.attachClickHandler($("#google_login")[0],{},function(){var t=auth2.currentUser.get().getBasicProfile();$.post("/server/user/saveinfo",{username:t.getName(),user_id:t.getId(),avatar_url:t.getImageUrl()},function(t){window.location=401===t.status?"/info.html":0===t.status?"/index.html":"/login.html"})},function(){window.location="/login.html"})})},checkLogin=function(){var t=getUrlParam();(document.cookie.indexOf("login_token")>0||t.code)&&$.get("/server/user/userinfo",{code:t.code,state:t.state},function(t){console.log(t),0===t.status?window.location="/index.html":401===t.status?window.location="/info.html":initLogin()})};checkLogin();